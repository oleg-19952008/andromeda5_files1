using System;
using System.Collections.Generic;
using System.Runtime.CompilerServices;
using UnityEngine;

public class GameMessagesWindow : GuiWindow
{
	private GameMessageType selectedType = 1;

	private GuiScrollingContainer scroller;

	private List<GuiElement> forDelete = new List<GuiElement>();

	public GameMessagesWindow()
	{
	}

	private void ConfirmExternalLink(EventHandlerParam prm)
	{
		if (prm == null || prm.customData == null)
		{
			return;
		}
		AndromedaGui.gui.RemoveWindow(AndromedaGui.gui.activeToolTipId);
		AndromedaGui.gui.activeToolTipId = -1;
		Application.OpenURL((string)prm.customData);
	}

	public override void Create()
	{
		base.SetBackgroundTexture("PoiScreenWindow", "frame");
		base.PutToCenter();
		this.zOrder = 210;
		this.isHidden = false;
		GuiLabel guiLabel = new GuiLabel()
		{
			boundries = new Rect(147f, 8f, 618f, 36f),
			Alignment = 4,
			text = StaticData.Translate("key_game_message_window_title"),
			FontSize = 24,
			TextColor = GuiNewStyleBar.blueColor
		};
		base.AddGuiElement(guiLabel);
		this.scroller = new GuiScrollingContainer(10f, 55f, 885f, 460f, 1, this);
		base.AddGuiElement(this.scroller);
		GuiButtonResizeable guiButtonResizeable = new GuiButtonResizeable();
		guiButtonResizeable.SetTexture("PoiScreenWindow", "tab_");
		guiButtonResizeable.X = 630f;
		guiButtonResizeable.Y = 10f;
		guiButtonResizeable.boundries.set_width(100f);
		guiButtonResizeable.groupId = 1;
		guiButtonResizeable.behaviourKeepClicked = true;
		guiButtonResizeable.Caption = StaticData.Translate("key_game_message_type_announcement");
		guiButtonResizeable.FontSize = 12;
		guiButtonResizeable.Alignment = 4;
		guiButtonResizeable.SetRegularFont();
		guiButtonResizeable.SetColor(GuiNewStyleBar.blueColor);
		guiButtonResizeable.eventHandlerParam.customData = (GameMessageType)1;
		guiButtonResizeable.Clicked = new Action<EventHandlerParam>(this, GameMessagesWindow.OnChangeTypeClicked);
		guiButtonResizeable.IsClicked = this.selectedType == 1;
		base.AddGuiElement(guiButtonResizeable);
		GuiButtonResizeable action = new GuiButtonResizeable();
		action.SetTexture("PoiScreenWindow", "tab_");
		action.X = 740f;
		action.Y = 10f;
		action.boundries.set_width(100f);
		action.groupId = 1;
		action.behaviourKeepClicked = true;
		action.Caption = StaticData.Translate("key_game_message_type_private");
		action.FontSize = 12;
		action.Alignment = 4;
		action.SetRegularFont();
		action.SetColor(GuiNewStyleBar.blueColor);
		action.eventHandlerParam.customData = (GameMessageType)0;
		action.Clicked = new Action<EventHandlerParam>(this, GameMessagesWindow.OnChangeTypeClicked);
		action.IsClicked = this.selectedType == 0;
		base.AddGuiElement(action);
	}

	private void OnChangeTypeClicked(EventHandlerParam prm)
	{
		// 
		// Current member / type: System.Void GameMessagesWindow::OnChangeTypeClicked(EventHandlerParam)
		// File path: C:\Program Files (x86)\XS-Software\Andromeda V\Andromeda5v164\Andromeda5_Data\Managed\Assembly-CSharp.dll
		// 
		// Product version: 2017.2.502.1
		// Exception in: System.Void OnChangeTypeClicked(EventHandlerParam)
		// 
		// Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ½Ğµ ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ½Ğ° ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°.
		//    Ğ² Â”Â“.Â€.(Â‰ ÂœÂ—, Int32 , Statement& Â›Â‹, Int32& ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatterns\ObjectInitialisationPattern.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 78
		//    Ğ² Â”Â“..(Â‰ ÂœÂ—, Int32& , Statement& Â›Â‹, Int32& ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatterns\BaseInitialisationPattern.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 33
		//    Ğ² ÂÂ..ÂÂ”(Â•ÂŸ Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatternsStep.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 57
		//    Ğ² Â†Â”.Â‰ÂŸ.Â—Âš(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 49
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 274
		//    Ğ² Â†Â”.Â‰ÂŸ.Â•(IfStatement Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 359
		//    Ğ² Â†Â”.Â‰ÂŸ.Â—Âš(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 55
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 274
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit[Â„ÂŸ,Â†ÂŸ](Â„ÂŸ ÂÂ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 284
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit(Â‰ Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 315
		//    Ğ² Â†Â”.Â‰ÂŸ.ÂÂ”(Â•ÂŸ Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 335
		//    Ğ² ÂÂ..ÂÂ”(Â•ÂŸ Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatternsStep.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 39
		//    Ğ² Â†Â”.Â‰ÂŸ.Â—Âš(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 49
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 274
		//    Ğ² ÂÂ..ÂœÂ(DecompilationContext Â™, Â•ÂŸ Â€Â–) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatternsStep.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 33
		//    Ğ² Â‚Â–.Â™Â“.(MethodBody Â€Â–, Â•ÂŸ ÂÂŸ, ILanguage ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\DecompilationPipeline.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 88
		//    Ğ² Â‚Â–.Â™Â“.Â‹(MethodBody Â€Â–, ILanguage ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\DecompilationPipeline.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 70
		//    Ğ² Telerik.JustDecompiler.Decompiler.Extensions.Â›Â“(Â™Â“ ÂœÂ“, ILanguage , MethodBody Â€Â–, DecompilationContext& Â™) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\Extensions.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 95
		//    Ğ² Telerik.JustDecompiler.Decompiler.Extensions.ÂšÂ“(MethodBody Â€Â–, ILanguage , DecompilationContext& Â™, Â ÂœÂ–) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\Extensions.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 58
		//    Ğ² Â—Â—.ÂƒÂ˜.ÂÂ—(ILanguage , MethodDefinition Â€, Â ÂœÂ–) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\WriterContextServices\BaseWriterContextService.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 117
		// 
		// mailto: JustDecompilePublicFeedback@telerik.com

	}

	private void OnDeleteConfirm(EventHandlerParam prm)
	{
		// 
		// Current member / type: System.Void GameMessagesWindow::OnDeleteConfirm(EventHandlerParam)
		// File path: C:\Program Files (x86)\XS-Software\Andromeda V\Andromeda5v164\Andromeda5_Data\Managed\Assembly-CSharp.dll
		// 
		// Product version: 2017.2.502.1
		// Exception in: System.Void OnDeleteConfirm(EventHandlerParam)
		// 
		// Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ½Ğµ ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ½Ğ° ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°.
		//    Ğ² Â”Â“.Â€.(Â‰ ÂœÂ—, Int32 , Statement& Â›Â‹, Int32& ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatterns\ObjectInitialisationPattern.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 78
		//    Ğ² Â”Â“..(Â‰ ÂœÂ—, Int32& , Statement& Â›Â‹, Int32& ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatterns\BaseInitialisationPattern.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 33
		//    Ğ² ÂÂ..ÂÂ”(Â•ÂŸ Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatternsStep.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 57
		//    Ğ² Â†Â”.Â‰ÂŸ.Â—Âš(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 49
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 274
		//    Ğ² Â†Â”.Â‰ÂŸ.Â•(IfStatement Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 359
		//    Ğ² Â†Â”.Â‰ÂŸ.Â—Âš(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 55
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 274
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit[Â„ÂŸ,Â†ÂŸ](Â„ÂŸ ÂÂ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 284
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit(Â‰ Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 315
		//    Ğ² Â†Â”.Â‰ÂŸ.ÂÂ”(Â•ÂŸ Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 335
		//    Ğ² ÂÂ..ÂÂ”(Â•ÂŸ Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatternsStep.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 39
		//    Ğ² Â†Â”.Â‰ÂŸ.Â—Âš(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 49
		//    Ğ² Â†Â”.Â‰ÂŸ.Visit(ICodeNode Â) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Ast\BaseCodeTransformer.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 274
		//    Ğ² ÂÂ..ÂœÂ(DecompilationContext Â™, Â•ÂŸ Â€Â–) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Steps\CodePatternsStep.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 33
		//    Ğ² Â‚Â–.Â™Â“.(MethodBody Â€Â–, Â•ÂŸ ÂÂŸ, ILanguage ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\DecompilationPipeline.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 88
		//    Ğ² Â‚Â–.Â™Â“.Â‹(MethodBody Â€Â–, ILanguage ) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\DecompilationPipeline.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 70
		//    Ğ² Telerik.JustDecompiler.Decompiler.Extensions.Â›Â“(Â™Â“ ÂœÂ“, ILanguage , MethodBody Â€Â–, DecompilationContext& Â™) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\Extensions.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 95
		//    Ğ² Telerik.JustDecompiler.Decompiler.Extensions.ÂšÂ“(MethodBody Â€Â–, ILanguage , DecompilationContext& Â™, Â ÂœÂ–) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\Extensions.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 58
		//    Ğ² Â—Â—.ÂƒÂ˜.ÂÂ—(ILanguage , MethodDefinition Â€, Â ÂœÂ–) Ğ² C:\Builds\556\Behemoth\ReleaseBranch Production Build NT\Sources\OpenSource\Cecil.Decompiler\Decompiler\WriterContextServices\BaseWriterContextService.cs:ÑÑ‚Ñ€Ğ¾ĞºĞ° 117
		// 
		// mailto: JustDecompilePublicFeedback@telerik.com

	}

	private void OnDeletePrivateMessageClick(EventHandlerParam prm)
	{
		string str = StaticData.Translate("key_delete_pm_pop_up_title");
		string str1 = StaticData.Translate("key_delete_pm_pop_up_info");
		string empty = string.Empty;
		string str2 = StaticData.Translate("key_dock_my_ships_select_ship_yes");
		string str3 = StaticData.Translate("key_dock_my_ships_select_ship_no");
		EventHandlerParam eventHandlerParam = new EventHandlerParam()
		{
			customData = (int)prm.customData
		};
		NewPopUpWindow.CreatePopUpWindow(str, str1, empty, str2, str3, out Inventory.dialogWindow, eventHandlerParam, new Action<EventHandlerParam>(this, GameMessagesWindow.OnDeleteConfirm), null);
	}

	private void OnExternalLinkClick(EventHandlerParam prm)
	{
		string str = StaticData.Translate("key_external_link_pop_up_title");
		string str1 = string.Format(StaticData.Translate("key_external_link_pop_up_info"), (string)prm.customData);
		string str2 = StaticData.Translate("key_dock_my_ships_select_ship_yes");
		string str3 = StaticData.Translate("key_dock_my_ships_select_ship_no");
		EventHandlerParam eventHandlerParam = new EventHandlerParam()
		{
			customData = (string)prm.customData
		};
		NewPopUpWindow.CreatePurchasePopUpWindow(str, str1, str2, str3, out Inventory.dialogWindow, eventHandlerParam, new Action<EventHandlerParam>(this, GameMessagesWindow.ConfirmExternalLink));
	}

	public void PopulateScreen()
	{
		EventHandlerParam eventHandlerParam = new EventHandlerParam()
		{
			customData = this.selectedType
		};
		this.OnChangeTypeClicked(eventHandlerParam);
	}
}